<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EQ Quiz - Anger Management</title>
    <style>
    /* RESET *//* =========================
   FULL STYLES FOR QUIZ PAGE
   (Includes RESULTS / IMPACT)
   ========================= */

/* RESET */
* { margin: 0; padding: 0; box-sizing: border-box; }

/* FIX MOBILE SCREEN SHAKE + ZOOM */
html, body { max-width: 100%; overflow-x: hidden !important; touch-action: manipulation; }

body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    min-height: 100vh;
    color: white;
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
}

/* HEADER */
.header {
    background: rgba(0,0,0,0.9);
    padding: 20px 30px;
    backdrop-filter: blur(15px);
    border-bottom: 1px solid rgba(255,255,255,0.08);
    display: flex;
    justify-content: space-between;
    align-items: center;
    position: sticky;
    top: 0;
    z-index: 100;
    gap: 12px;
}

.logo { display: flex; align-items: center; gap: 12px; font-size: 22px; font-weight: 700; color: #ffd700; }

/* PROGRESS */
.quiz-progress { display:flex; align-items:center; gap:15px; color:#4ecdc4; font-size:15px; }
.progress-bar { width: 220px; height: 8px; background: rgba(255,255,255,0.12); border-radius: 999px; overflow:hidden; }
.progress-fill { height:100%; background: linear-gradient(90deg,#4ecdc4,#44a08d); transition: width .45s cubic-bezier(.22,.9,.39,1); border-radius: 999px; }

/* MAIN LAYOUT */
.container { max-width: 980px; margin: 0 auto; padding: 34px 26px; }

/* QUIZ HEADER */
.quiz-header {
    text-align: center;
    margin-bottom: 28px;
    background: rgba(0,0,0,0.78);
    padding: 26px;
    border-radius: 16px;
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255,255,255,0.06);
}

.quiz-title {
    font-size: 34px;
    font-weight: 800;
    background: linear-gradient(45deg,#ffd700,#ff6b6b,#4ecdc4);
    -webkit-background-clip:text; -webkit-text-fill-color:transparent;
    margin-bottom:6px;
}
.quiz-subtitle { color:#cfcfcf; font-size:15px; }

/* QUESTION BOX */
.question-container {
    background: rgba(0,0,0,0.8);
    padding: 30px;
    border-radius: 16px;
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255,255,255,0.06);
    margin-bottom: 26px;
    position: relative;
}

/* decorative sweep (low-contrast) */
.question-container::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255,215,0,0.03), transparent);
    animation: sweep 6s linear infinite;
    pointer-events: none;
    will-change: transform;
    transform: translateZ(0);
}

/* QUESTION TEXT */
.question-number { color:#4ecdc4; font-size:13px; font-weight:700; margin-bottom:10px; text-transform:uppercase; }
.question-text { font-size:22px; font-weight:700; color:#ffd700; margin-bottom:22px; line-height:1.25; }

/* OPTIONS GRID */
.options-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 20px;
}

/* OPTION CARD */
.option-card {
    background: rgba(255,255,255,0.04);
    border: 2px solid transparent;
    border-radius: 14px;
    padding: 20px;
    cursor: pointer;
    transition: transform .22s ease, box-shadow .22s ease, border-color .22s ease, background .22s ease;
    position: relative;
    z-index: 0;
    min-height: 88px;
    display:flex;
    align-items:center;
}

.option-card:hover { transform: translateY(-6px); box-shadow: 0 20px 45px rgba(0,0,0,0.35); border-color: rgba(78,205,196,0.14); background: rgba(78,205,196,0.04); }
.option-card.selected { border-color:#ffd700; background: rgba(255,215,0,0.09); box-shadow: 0 25px 60px rgba(255,215,0,0.06); }
.option-text { font-size:15px; color:#fff; }

/* little info icon button on option */
.consequence-btn {
    position: absolute;
    top: 12px;
    right: 12px;
    background: rgba(255,255,255,0.12);
    border-radius:50%;
    padding:6px 9px;
    font-size:13px;
    line-height:1;
    cursor:pointer;
    border:1px solid rgba(255,255,255,0.12);
    z-index: 12;
    transition: transform .15s ease, background .12s ease;
    color: #fff;
}
.consequence-btn:hover { transform: scale(1.06); background: rgba(255,255,255,0.18); }

/* ==========================
   CONSEQUENCE POPUP (centered)
   ========================== */
.consequence-popup {
    position: fixed;
    top: 50%;
    left: 50%;
    width: 92%;
    max-width: 520px;
    transform: translate(-50%, -50%);
    background: linear-gradient(180deg, rgba(6,6,9,0.98), rgba(10,10,14,0.98));
    border-radius: 14px;
    border: 2px solid rgba(78,205,196,0.13);
    padding: 22px;
    z-index: 99999;
    display: none;
    color: #fff;
    box-shadow: 0 30px 80px rgba(2,8,16,0.6), inset 0 1px 0 rgba(255,255,255,0.02);
}
.consequence-popup h3 { margin-bottom:10px; color:#4ecdc4; font-size:18px; }
.consequence-popup p { color:#ddd; font-size:14px; line-height:1.45; margin-bottom:10px; }

/* small badges inside popup */
.popup-badges { display:flex; gap:10px; flex-wrap:wrap; margin-top:8px; }
.badge { font-size:13px; padding:6px 10px; border-radius:999px; background: rgba(255,255,255,0.04); color:#fff; border:1px solid rgba(255,255,255,0.03); }

/* popup close button */
.popup-close {
    display:inline-block;
    margin-top:12px;
    padding:10px 16px;
    border-radius:10px;
    background: linear-gradient(90deg,#ff6b6b,#e74c3c);
    color:#fff;
    font-weight:700;
    cursor:pointer;
    border:none;
}

/* NAV BUTTONS */
.quiz-controls { display:flex; justify-content:space-between; gap:12px; margin-top:30px; align-items:center; }
.nav-btn {
    background: linear-gradient(45deg, #4ecdc4, #44a08d);
    padding: 13px 26px;
    border-radius: 50px;
    border:none;
    color:#fff;
    cursor:pointer;
    font-weight:700;
    transition: transform .12s ease, box-shadow .12s ease;
}
.nav-btn:hover { transform: translateY(-4px); box-shadow: 0 20px 45px rgba(0,0,0,0.35); }
.back-btn { background: linear-gradient(45deg,#ff6b6b,#e74c3c); }

/* ==========================
   RESULTS PANEL (FULL)
   ========================== */
.results-container {
    display:none;
    text-align:center;
    background: rgba(3,6,12,0.92);
    padding: 48px 30px;
    border-radius: 18px;
    backdrop-filter: blur(12px);
    border: 1px solid rgba(255,255,255,0.04);
    margin-top: 28px;
}

/* heading and big score */
.results-title { font-size:40px; font-weight:800; color: #ff8a77; margin-bottom:18px; }
.score-display {
    font-size:92px; font-weight:900; color:#4ecdc4;
    text-shadow: 0 8px 50px rgba(78,205,196,0.28);
    margin-bottom: 22px;
}

/* breakdown grid */
.score-breakdown {
    display:grid;
    grid-template-columns: repeat(auto-fit, minmax(210px, 1fr));
    gap: 18px;
    margin: 24px 0;
}

/* single score item */
.score-item {
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    padding: 18px;
    border-radius: 14px;
    border: 1px solid rgba(255,255,255,0.03);
    color: #e6e6e6;
    min-height: 84px;
    display:flex;
    flex-direction:column;
    justify-content:center;
    align-items:center;
}

/* labels + values */
.score-label { font-size:14px; color:#cfcfcf; margin-bottom:8px; }
.score-value { font-size:28px; color:#ffd700; font-weight:800; }

/* IMPACT BREAKDOWN (vertical stack) */
.impact-grid {
    display:grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 14px;
    margin-top: 18px;
}

/* each impact item */
.impact-item {
    background: rgba(255,255,255,0.02);
    border-radius:12px;
    padding:12px 14px;
    border:1px solid rgba(255,255,255,0.03);
    display:flex;
    align-items:center;
    gap:12px;
}

/* icon circle + text */
.impact-icon {
    width:44px; height:44px; border-radius:10px;
    display:flex; align-items:center; justify-content:center; font-weight:700; color:#fff;
    flex-shrink:0;
}

/* impact label + value */
.impact-meta { display:flex; flex-direction:column; }
.impact-label { font-size:13px; color:#dcdcdc; margin-bottom:3px; }
.impact-value { font-size:20px; font-weight:800; color:#4ecdc4; }

/* coloured icons for each type */
.impact-self { background: linear-gradient(90deg,#6be07a,#2db86b); }
.impact-family { background: linear-gradient(90deg,#ffd36b,#ffb14d); }
.impact-society { background: linear-gradient(90deg,#6fe0e0,#2fb5b5); }
.impact-country { background: linear-gradient(90deg,#9b72f7,#6c4be8); }
.impact-earth { background: linear-gradient(90deg,#4ecdc4,#2f9b8e); }

/* performance message box */
.performance-message {
    margin-top: 20px;
    padding: 18px;
    border-radius: 12px;
    font-size:15px;
    color:#fff;
    background: linear-gradient(180deg, rgba(76,175,80,0.12), rgba(76,175,80,0.06));
    border: 1px solid rgba(76,175,80,0.12);
}
.performance-message.medium {
    background: linear-gradient(180deg, rgba(255,152,0,0.12), rgba(255,152,0,0.04));
    border: 1px solid rgba(255,152,0,0.12);
}
.performance-message.low {
    background: linear-gradient(180deg, rgba(244,67,54,0.12), rgba(244,67,54,0.04));
    border: 1px solid rgba(244,67,54,0.12);
}

/* return button */
#results-home-btn {
    margin-top: 26px;
    padding: 12px 26px;
    border-radius: 40px;
    background: linear-gradient(90deg,#4ecdc4,#44a08d);
    border:none;
    color:#fff;
    font-weight:700;
    cursor:pointer;
}

.impact-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    gap: 20px;
    margin: 25px 0;
    background: rgba(255,255,255,0.04);
    padding: 20px;
    border-radius: 15px;
}

.impact-item {
    background: rgba(0,0,0,0.4);
    padding: 15px;
    border: 1px solid rgba(255,255,255,0.1);
    border-radius: 12px;
    font-size: 16px;
}

/* small utility */
.kv { font-weight:700; color:#ffd700; }

/* FLOATING SHAPES ‚Äî disable interactions */
.floating-shapes, .shape { pointer-events: none !important; }

/* ANIMATIONS */
@keyframes sweep { 0% { left:-100%; } 100% { left:100%; } }
@keyframes float-shapes { 0% { transform: translateY(100vh) rotate(0deg); } 100% { transform: translateY(-100px) rotate(360deg); } }

/* RESPONSIVE / MOBILE */
@media (max-width: 768px) {
    .header { flex-direction: column; padding:14px; gap:10px; }
    .quiz-title { font-size: 26px; }
    .question-text { font-size:18px; }
    .options-grid {  grid-template-columns: 1fr !important; }
    .quiz-controls { flex-direction: column; gap:14px; }
    .container { padding:18px 12px; }
    .score-breakdown { grid-template-columns: 1fr; }
    .impact-grid { grid-template-columns: 1fr; }
    .score-display { font-size:64px; }
    .consequence-popup { width:92%; max-width:420px; padding:18px; }
}

/* ===========================
   RECOMMENDED LESSONS SECTION
   =========================== */
/* ===================================
   RECOMMENDED LESSONS (CLEAN & MODERN)
   =================================== */

.lessons-box {
    margin-top: 40px;
    padding: 28px 32px;
    border-radius: 20px;
    background: rgba(255,255,255,0.04);
    border: 1px solid rgba(255,255,255,0.06);
    backdrop-filter: blur(10px);
}

.lessons-title {
    font-size: 24px;
    font-weight: 800;
    color: #4ecdc4;
    margin-bottom: 22px;
    display: flex;
    align-items: center;
    gap: 10px;
}

.lessons-title::before {
    content: "üìò";
    font-size: 26px;
}

/* Each Lesson */
.lesson-item {
    font-size: 17px;
    font-weight: 500;
    color: #e6e6e6;
    padding: 16px 20px;
    margin-bottom: 12px;
    border-radius: 14px;
    background: rgba(255,255,255,0.06);
    border: 1px solid rgba(255,255,255,0.08);
    display: flex;
    align-items: center;
    gap: 12px;
    cursor: pointer;
    transition: 0.25s ease;
}

/* Icon bullet */
.lesson-item::before {
    content: "üîπ";
    font-size: 14px;
}

/* Hover animation */
.lesson-item:hover {
    background: rgba(78,205,196,0.18);
    border-color: rgba(78,205,196,0.35);
    transform: translateX(10px);
}


    </style>
</head>
<body>
    <div id="consequencePopup" class="consequence-popup">
        <div id="popupContent"></div>
        <div class="popup-close" onclick="closeConsequencePopup()">Close</div>
    </div>

    <div class="floating-shapes"></div>
    
    <header class="header">
        <div class="logo">üß† EQ Quiz Platform</div>
        <div class="quiz-progress">
            <span id="question-counter">Question 1 of 5</span>
            <div class="progress-bar">
                <div class="progress-fill" id="progress-fill" style="width: 20%;"></div>
            </div>
        </div>
    </header>

    <div class="container">
        <div class="quiz-header">
            <div class="quiz-title" id="quiz-name">Anger Management Quiz</div>
            <div class="quiz-subtitle">Master your emotions to prevent conflicts and reduce harmful behaviors</div>
        </div>

        <div class="question-container" id="question-container">
            <div class="question-number" id="question-number">Question 1 of 5</div>
            <div class="question-text" id="question-text">
                Loading question...
            </div>
            
            <div class="options-grid" id="options-grid">
                <!-- Options will be loaded dynamically -->
            </div>
        </div>

        <div class="quiz-controls">
            <button class="nav-btn back-btn" id="back-home-btn">üè† Back to Home</button>
            <button class="nav-btn" id="next-btn" disabled>Next Question ‚Üí</button>
        </div>

        <div class="results-container" id="results-container">
            <div class="results-title">Quiz Complete!</div>
            <div class="score-display" id="final-score">0/5</div>
            
            <div class="score-breakdown">
                <div class="score-item">
                    <div class="score-label">Correct Answers</div>
                    <div class="score-value" id="correct-count">0</div>
                </div>
                <div class="score-item">
                    <div class="score-label">Total Questions</div>
                    <div class="score-value">5</div>
                </div>
                <div class="score-item">
                    <div class="score-label">Accuracy</div>
                    <div class="score-value" id="accuracy">0%</div>
                </div>
                <div class="score-item">
                    <div class="score-label">Impact Points</div>
                    <div class="score-value" id="impact-points">+20</div>
                </div>
            </div>

            <div class="impact-grid">
                <div class="impact-item">üåü Self Impact: <span id="impact-self"></span></div>
                <div class="impact-item">üë®‚Äçüë©‚Äçüëß Family Impact: <span id="impact-family"></span></div>
                <div class="impact-item">üåê Society Impact: <span id="impact-society"></span></div>
                <div class="impact-item">üáÆüá≥ Country Impact: <span id="impact-country"></span></div>
                <div class="impact-item">üåç Earth Impact: <span id="impact-earth"></span></div>
            </div>

            <!-- <div id="recommended-lessons" class="lessons-box"></div> -->
            <div id="recommended-lessons" class="lessons-box"></div>


            
            <div class="performance-message" id="performance-message">
                Keep practicing! Every step toward emotional intelligence helps reduce crime and create safer communities.
            </div>
            
            <div style="margin-top: 40px;">
                <button class="nav-btn" id="results-home-btn">üè† Return to Quiz Home</button>
            </div>
        </div>
    </div>

    <script>
// =========================================
// FULL FIXED JS ‚Äî SCORE + IMPACT SYSTEM
// =========================================
// =========================================
// FULL FIXED JS ‚Äî SCORE + IMPACT + LESSONS
// =========================================

// QUIZ DATA (NOW INCLUDES IMPACT VALUES)
const angerManagementQuiz = [
    {
        question: "When someone cuts in front of you in line, your first reaction is:",
        options: [
            {
                text: "Take a deep breath and stay calm",
                shortTerm: "You remain peaceful and composed.",
                longTerm: "Builds emotional resilience and reduces conflict.",
                score: 3,
                impact: { self: 3, family: 3, society: 3, country: 2, earth: 2 }
            },
            {
                text: "Politely ask them to move",
                shortTerm: "May resolve the situation peacefully.",
                longTerm: "Builds assertiveness & communication.",
                score: 2,
                impact: { self: 2, family: 2, society: 1, country: 1, earth: 1 }
            },
            {
                text: "Feel annoyed but say nothing",
                shortTerm: "Avoids conflict but increases internal stress.",
                longTerm: "May lead to emotional suppression.",
                score: 1,
                impact: { self: 1, family: 1, society: 0, country: 0, earth: 0 }
            },
            {
                text: "Confront them aggressively",
                shortTerm: "Creates immediate conflict.",
                longTerm: "Damages relationships and escalates aggression.",
                score: 0,
                impact: { self: -1, family: -2, society: -2, country: -1, earth: -1 }
            }
        ]
    },

    {
        question: "How often do you raise your voice when frustrated?",
        options: [
            {
                text: "Never",
                shortTerm: "Creates a calm environment.",
                longTerm: "Strengthens relationships.",
                score: 3,
                impact: { self: 3, family: 3, society: 2, country: 1, earth: 1 }
            },
            {
                text: "Rarely",
                shortTerm: "Generally peaceful.",
                longTerm: "Some emotional inconsistency remains.",
                score: 2,
                impact: { self: 2, family: 2, society: 1, country: 1, earth: 1 }
            },
            {
                text: "Sometimes",
                shortTerm: "Creates tension in relationships.",
                longTerm: "May damage trust.",
                score: 1,
                impact: { self: 1, family: 1, society: 0, country: 0, earth: 0 }
            },
            {
                text: "Frequently",
                shortTerm: "Creates fear and instability.",
                longTerm: "Harms relationships deeply.",
                score: 0,
                impact: { self: -2, family: -2, society: -2, country: -1, earth: -1 }
            }
        ]
    },

    {
        question: "When angry, what helps you calm down most?",
        options: [
            {
                text: "Deep breathing exercises",
                shortTerm: "Reduces stress immediately.",
                longTerm: "Builds emotional control.",
                score: 3,
                impact: { self: 3, family: 2, society: 2, country: 1, earth: 1 }
            },
            {
                text: "Physical exercise",
                shortTerm: "Releases stress.",
                longTerm: "Healthy long-term outlet.",
                score: 2,
                impact: { self: 2, family: 2, society: 1, country: 1, earth: 1 }
            },
            {
                text: "Talking to someone",
                shortTerm: "Helps process feelings.",
                longTerm: "Strengthens bonds.",
                score: 2,
                impact: { self: 2, family: 2, society: 2, country: 1, earth: 1 }
            },
            {
                text: "Time alone",
                shortTerm: "Prevents immediate conflict.",
                longTerm: "Risk of emotional isolation.",
                score: 1,
                impact: { self: 1, family: 0, society: 0, country: 0, earth: 0 }
            }
        ]
    }
];

// ENGINE VARIABLES
let currentQuestion = 0;
let selectedAnswers = [];
let userScore = 0;

// IMPACT TOTALS
let impactSelf = 0;
let impactFamily = 0;
let impactSociety = 0;
let impactCountry = 0;
let impactEarth = 0;

// LOAD QUESTION
function loadQuestion() {
    const q = angerManagementQuiz[currentQuestion];

    document.getElementById("question-number").innerText =
        `Question ${currentQuestion + 1} of ${angerManagementQuiz.length}`;

    document.getElementById("question-text").innerText = q.question;

    document.getElementById("question-counter").innerText =
        `Question ${currentQuestion + 1} of ${angerManagementQuiz.length}`;

    const progress = ((currentQuestion + 1) / angerManagementQuiz.length) * 100;
    document.getElementById("progress-fill").style.width = progress + "%";

    const optionsGrid = document.getElementById("options-grid");
    optionsGrid.innerHTML = "";

    q.options.forEach((op, index) => {
        const card = document.createElement("div");
        card.className = "option-card";

        card.innerHTML = `
            <div class="option-text">${op.text}</div>
            <div class="consequence-btn" onclick="event.stopPropagation(); showConsequence(${currentQuestion}, ${index})">‚ÑπÔ∏è</div>
        `;

        card.addEventListener("click", () => selectOption(index, card));
        optionsGrid.appendChild(card);
    });

    document.getElementById("next-btn").disabled = true;
}

// SELECT OPTION
function selectOption(index, element) {
    selectedAnswers[currentQuestion] = index;

    document.querySelectorAll(".option-card").forEach(c => c.classList.remove("selected"));
    element.classList.add("selected");

    const nextBtn = document.getElementById("next-btn");
    nextBtn.disabled = false;

    if (currentQuestion === angerManagementQuiz.length - 1) {
        nextBtn.innerHTML = "Finish Quiz ‚Üí";
    }
}

// POPUP (CONSEQUENCE)
function showConsequence(qIndex, optionIndex) {
    const op = angerManagementQuiz[qIndex].options[optionIndex];

    document.getElementById("popupContent").innerHTML = `
        <h3 style='color:#4ecdc4;'>Consequences</h3>
        <b style='color:#ffd700;'>Short Term:</b><br>${op.shortTerm}<br><br>
        <b style='color:#ffd700;'>Long Term:</b><br>${op.longTerm}<br><br>

        <b style='color:#ffd700;'>Impact:</b>
        <div class="popup-badges">
            <div class="badge">Self: ${op.impact.self}</div>
            <div class="badge">Family: ${op.impact.family}</div>
            <div class="badge">Society: ${op.impact.society}</div>
            <div class="badge">Country: ${op.impact.country}</div>
            <div class="badge">Earth: ${op.impact.earth}</div>
        </div>
    `;

    document.getElementById("consequencePopup").style.display = "block";
}

function closeConsequencePopup() {
    document.getElementById("consequencePopup").style.display = "none";
}

// NEXT QUESTION
function nextQuestion() {
    if (currentQuestion < angerManagementQuiz.length - 1) {
        currentQuestion++;
        loadQuestion();
    } else {
        showResults();
    }
}

// SHOW RESULTS
function showResults() {
    document.getElementById("question-container").style.display = "none";
    document.querySelector(".quiz-controls").style.display = "none";

    userScore = 0;
    impactSelf = 0;
    impactFamily = 0;
    impactSociety = 0;
    impactCountry = 0;
    impactEarth = 0;

    angerManagementQuiz.forEach((q, i) => {
        const chosen = q.options[selectedAnswers[i]];

        userScore += chosen.score;

        impactSelf += chosen.impact.self;
        impactFamily += chosen.impact.family;
        impactSociety += chosen.impact.society;
        impactCountry += chosen.impact.country;
        impactEarth += chosen.impact.earth;
    });

    // SHOW SCORE
    document.getElementById("final-score").innerText =
        `${userScore} / ${angerManagementQuiz.length * 3}`;

    // SHOW IMPACT VALUES
    document.getElementById("impact-self").innerText = impactSelf;
    document.getElementById("impact-family").innerText = impactFamily;
    document.getElementById("impact-society").innerText = impactSociety;
    document.getElementById("impact-country").innerText = impactCountry;
    document.getElementById("impact-earth").innerText = impactEarth;

    // === LESSON RECOMMENDATION ENGINE ===
    let lessons = [];

    if (impactSelf < 4) lessons.push("Self-Control & Mindset Training");
    if (impactFamily < 4) lessons.push("Communication & Relationship Skills");
    if (impactSociety < 4) lessons.push("Empathy & Social Awareness Lessons");
    if (impactCountry < 3) lessons.push("Responsibility & Lawfulness Lessons");
    if (impactEarth < 3) lessons.push("Humanity, Peace & Kindness Lessons");

    if (lessons.length === 0) {
        lessons.push("Excellent! You qualify for Advanced EQ Lessons.");
    }

    let lessonHTML = "";
    lessons.forEach((l, index) => {
        lessonHTML += `<div class='lesson-item' onclick="openLesson(${index})">${l}</div>`;
    });

    document.getElementById("recommended-lessons").innerHTML = `
        <div class='lessons-title'> Recommended Lessons</div>
        ${lessonHTML}
    `;

    document.getElementById("results-container").style.display = "block";
}

// INIT
document.addEventListener("DOMContentLoaded", () => {
    loadQuestion();

    document.getElementById("next-btn").addEventListener("click", nextQuestion);
    document.getElementById("back-home-btn").addEventListener("click", () =>
        window.location.href = "index5.html"
    );
    document.getElementById("results-home-btn").addEventListener("click", () =>
        window.location.href = "index5.html"
    );
});

</script>

</body>
</html>
