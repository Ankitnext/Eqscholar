<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>EQ Market - Store</title>
  <style>
    * { margin:0; padding:0; box-sizing:border-box; }
    body {
      font-family: 'Inter', sans-serif;
      background: linear-gradient(135deg,#667eea 0%, #764ba2 100%);
      min-height:100vh;
      color:#fff;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }

    /* ---------------- Header / Nav ---------------- */
    .top-nav {
      position: fixed;
      inset: 0 0 auto 0;
      background: rgba(0,0,0,0.95);
      backdrop-filter: blur(6px);
      z-index: 9999;
      box-shadow: 0 8px 30px rgba(0,0,0,0.45);
    }
    .header-content {
      max-width: 1400px;
      margin: 0 auto;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      padding: 12px 18px;
      position: relative;
    }

    .brand {
      display:flex;
      gap:10px;
      align-items:center;
      font-weight:700;
      color:#ffd700;
      font-size:18px;
    }

    /* Nav links - desktop inline */
    .nav-links {
      display:flex;
      gap:18px;
      align-items:center;
      z-index:2100;
    }
    .nav-links a, .dropdown-link, .sub-toggle {
      color:#fff; text-decoration:none; font-weight:600; padding:6px 8px; display:inline-block;
    }
    .nav-links a:hover, .dropdown-link:hover, .sub-toggle:hover { color:#f39c12; }

    /* Desktop dropdown (hover) */
    .dropdown-parent { position:relative; display:inline-block; }
    .dropdown-menu {
      display:none;
      position:absolute;
      top:100%;
      left:0;
      min-width:220px;
      background:#121218;
      border-radius:6px;
      box-shadow: 0 12px 40px rgba(0,0,0,0.45);
      padding:6px 0;
    }
    .dropdown-menu a { display:block; padding:10px 14px; color:#fff; text-decoration:none; }
    .dropdown-parent:hover > .dropdown-menu { display:block; }

    /* nested submenu (desktop) */
    .has-sub { position:relative; }
    .sub-menu {
      display:none;
      position:absolute;
      top:0;
      left:100%;
      margin-left:8px;
      min-width:180px;
      background:#121218;
      padding:6px 0;
      border-radius:6px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.35);
    }
    .has-sub:hover > .sub-menu { display:block; }

    /* ---------------- Hamburger (3-line) ---------------- */
    #menuToggle {
      display:none;
      width:44px; height:40px; padding:6px;
      border-radius:8px; border:0; background:rgba(255,255,255,0.03);
      cursor:pointer;
      display:flex; align-items:center; justify-content:center; flex-direction:column; gap:4px;
      transition: background .15s ease;
    }
    #menuToggle span {
      width:22px; height:2.8px; border-radius:3px; background:#fff;
      display:block; transition: transform .25s ease, opacity .18s ease;
      transform-origin:center;
      box-shadow:0 1px 0 rgba(0,0,0,0.18);
    }
    #menuToggle:hover { background: rgba(255,255,255,0.06); }

    /* open -> X */
    #menuToggle.open span:nth-child(1) { transform: translateY(8px) rotate(45deg); }
    #menuToggle.open span:nth-child(2) { opacity: 0; transform: scale(.9); }
    #menuToggle.open span:nth-child(3) { transform: translateY(-8px) rotate(-45deg); }

    /* ---------------- Mobile off-canvas nav ---------------- */
    .nav-links.offcanvas {
      position: fixed;
      top: 56px;
      right: 0;
      width: 280px;
      height: calc(100vh - 56px);
      background: rgba(0,0,0,0.98);
      border-left: 1px solid rgba(255,255,255,0.06);
      padding: 14px 12px;
      transform: translateX(100%);
      transition: transform .28s ease;
      overflow:auto;
      display:flex;
      flex-direction:column;
      gap:8px;
      z-index: 3000;
    }
    .nav-links.offcanvas.open { transform: translateX(0); }

    .nav-links.offcanvas a { padding:10px 6px; color:#fff; text-decoration:none; display:block; }
    .nav-links.offcanvas .dropdown-parent .dropdown-menu { display:block; position:static; background:transparent; box-shadow:none; padding-left:8px; margin-top:6px; }
    .nav-links.offcanvas .has-sub .sub-menu { display:none; padding-left:12px; margin-top:6px; }
    .nav-links.offcanvas .has-sub.open .sub-menu { display:block; }

    /* small user area inside offcanvas */
    .offcanvas-user { margin-top:12px; padding-top:12px; border-top:1px solid rgba(255,255,255,0.03); display:flex; justify-content:space-between; align-items:center; gap:8px; }

    /* ---------------- Page content spacing (so header doesn't overlap) ---------------- */
    .page-body {
      padding-top: 110px; /* leaves space for fixed header */
      max-width: 1180px;
      margin: 0 auto;
    }

    /* ---------------- Market styles (unchanged content) ---------------- */
    .market-title { text-align:center; margin-bottom:18px; }
    .market-title h1 { font-size:42px; color:#f39c12; margin-top:6px; }
    .market-title p { font-size:18px; opacity:0.92; margin-top:8px; }

    .category-title { font-size:30px; margin: 28px 0 8px 10px; color:#ffd86b; font-weight:700; }

    .product-row { display:flex; overflow-x:auto; padding:16px; gap:18px; scroll-behavior:smooth; }
    .product-row::-webkit-scrollbar { height:8px; }
    .product-row::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.35); border-radius:10px; }

    .product-card {
      background: rgba(255,255,255,0.08);
      width:260px; min-width:260px;
      border-radius:15px;
      border:1px solid rgba(255,255,255,0.12);
      padding:20px; text-align:center; transition: transform .22s ease;
      backdrop-filter: blur(8px);
    }
    .product-card:hover { transform: translateY(-8px); box-shadow: 0 10px 25px rgba(0,0,0,0.45); }
    .product-icon { font-size:55px; margin-bottom:14px; animation: float 3s infinite ease-in-out; }
    .product-name { font-size:20px; color:#f39c12; font-weight:700; margin-bottom:8px; }
    .product-desc { font-size:14px; opacity:0.85; margin-bottom:12px; }
    .product-price { font-size:18px; color:#00ffcc; font-weight:700; margin-bottom:12px; }
    .buy-btn { background: linear-gradient(45deg,#e74c3c,#f39c12); border:0; padding:10px 18px; border-radius:40px; color:#fff; font-weight:800; cursor:pointer; }
    .buy-btn:hover { transform: scale(1.03); }

    @keyframes float { 0%,100%{transform:translateY(0)} 50%{transform:translateY(-6px)} }

    /* ---------------- Responsive tweaks ---------------- */
    @media (max-width: 1024px) {
      /* hide desktop inline nav */
      .nav-links:not(.offcanvas) { display:none; }
      /* show hamburger */
      #menuToggle { display:flex; position:absolute; right:14px; top:50%; transform:translateY(-50%); }
      /* header padding to avoid overlap */
      .header-content { padding-right: 72px; }
      .page-body { padding-top: 86px; }
      .market-title h1 { font-size:34px; }
      .category-title { font-size:22px; margin-left:12px; }
    }
    @media (max-width: 768px) {
      .product-row { padding-left:12px; padding-right:12px; gap:14px; }
      .product-card { min-width:220px; width:220px; }
      .page-body { padding-top:84px; }
      /* offcanvas: slightly narrower on small phones */
      .nav-links.offcanvas { width: 260px; }
    }
    @media (max-width:420px) {
      #menuToggle { right:10px; }
      #menuToggle span { width:20px; height:2.4px; }
      .product-card { min-width:200px; width:200px; }
      .market-title h1 { font-size:28px; }
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header class="top-nav" role="banner">
    <div class="header-content">
      <div class="brand" aria-hidden="false">
        <span style="font-size:20px;">ðŸ›’</span>
        <div>EQ Market</div>
      </div>

      <!-- Desktop inline nav -->
      <nav class="nav-links" id="desktopNav" aria-label="Primary navigation">
        <a href="index.html">Home</a>
        <a href="leaderboard.html">Leaderboard</a>

        <div class="dropdown-parent" id="activityParentDesktop">
          <a href="#" class="dropdown-link" aria-haspopup="true">Activity â–¾</a>
          <div class="dropdown-menu" role="menu" aria-hidden="true">
            <a href="market.html">Market</a>
            <a href="comm.html">Community</a>

            <div class="has-sub">
              <a href="#" class="sub-toggle">Games â–¸</a>
              <div class="sub-menu" role="menu">
                <a href="games.html">All Games</a>
                <a href="events.html">Events</a>
                <a href="index5.html">Take Quiz</a>
              </div>
            </div>

            <a href="index5.html">Take Quiz</a>
          </div>
        </div>

        <a href="index3.html">Profile</a>
        <a href="events.html">Events</a>
        <a href="lesson2.html">Lessons</a>
        <a href="index5.html">Take Quiz</a>
        <a href="maps.html">Map</a>
      </nav>

      <!-- Hamburger -->
      <button id="menuToggle" aria-label="Toggle menu" aria-expanded="false">
        <span></span><span></span><span></span>
      </button>

      <!-- Off-canvas nav (mobile) - same structure but will be shown only on small screens -->
      <nav class="nav-links offcanvas" id="mobileNav" aria-label="Mobile navigation" aria-hidden="true">
        <a href="index.html">Home</a>
        <a href="leaderboard.html">Leaderboard</a>

        <div class="dropdown-parent" id="activityParentMobile">
          <a href="#" class="dropdown-link" id="activityLinkMobile" aria-haspopup="true" aria-expanded="false">Activity â–¾</a>

          <div class="dropdown-menu" id="activityMenuMobile" role="menu" aria-hidden="true">
            <a href="market.html">Market</a>
            <a href="comm.html">Community</a>

            <div class="has-sub" id="gamesHasSubMobile">
              <a href="#" class="sub-toggle" id="gamesToggleMobile" aria-haspopup="true" aria-expanded="false">Games â–¸</a>
              <div class="sub-menu" id="gamesSubMenuMobile" role="menu">
                <a href="games.html">All Games</a>
                <a href="events.html">Events</a>
                <a href="index5.html">Take Quiz</a>
              </div>
            </div>

            <a href="index5.html">Take Quiz</a>
          </div>
        </div>

        <a href="index3.html">Profile</a>
        <a href="events.html">Events</a>
        <a href="lesson2.html">Lessons</a>
        <a href="index5.html">Take Quiz</a>
        <a href="maps.html">Map</a>

        <!-- small user block at bottom of off-canvas -->
        <div class="offcanvas-user">
          <div>
            <div style="font-weight:700; color:#4ecdc4;">127 pts</div>
            <div style="font-size:0.9rem; color:#ffd700;">Your EQ Points</div>
          </div>
          <a href="index3.html"><button style="background:linear-gradient(45deg,#3498db,#2980b9); color:#fff; border:0; padding:8px 12px; border-radius:18px; cursor:pointer;">Profile</button></a>
        </div>
      </nav>
    </div>
  </header>

  <!-- Page body (keeps content) -->
  <main class="page-body">
    <section class="market-title">
      <h1>EQ Rewards Market</h1>
      <p>Choose from digital goods or real physical items</p>
    </section>

    <section>
      <div class="category-title">ðŸŽ® Digital Items (Buy with EQ Points)</div>
      <div class="product-row">
        <div class="product-card">
          <div class="product-icon">ðŸŽ®</div>
          <div class="product-name">Gaming Points</div>
          <div class="product-desc">Boost your gaming wallet</div>
          <div class="product-price">300 Points</div>
          <button class="buy-btn">Buy</button>
        </div>

        <div class="product-card">
          <div class="product-icon">ðŸª™</div>
          <div class="product-name">Amazon Tokens</div>
          <div class="product-desc">Use for Amazon purchases</div>
          <div class="product-price">400 Points</div>
          <button class="buy-btn">Buy</button>
        </div>

        <div class="product-card">
          <div class="product-icon">ðŸ’Ž</div>
          <div class="product-name">Google Play Card</div>
          <div class="product-desc">Redeem in Play Store</div>
          <div class="product-price">500 Points</div>
          <button class="buy-btn">Buy</button>
        </div>

        <div class="product-card">
          <div class="product-icon">ðŸ”¥</div>
          <div class="product-name">Boost Token</div>
          <div class="product-desc">Increase next quiz score +5%</div>
          <div class="product-price">150 Points</div>
          <button class="buy-btn">Buy</button>
        </div>

        <div class="product-card">
          <div class="product-icon">ðŸŽ§</div>
          <div class="product-name">Music Premium</div>
          <div class="product-desc">1 month music pass</div>
          <div class="product-price">380 Points</div>
          <button class="buy-btn">Buy</button>
        </div>
      </div>
    </section>

    <section>
      <div class="category-title">ðŸ“¦ Physical Items (Real Products)</div>
      <div class="product-row">
        <div class="product-card">
          <div class="product-icon">ðŸ“š</div>
          <div class="product-name">Self Improvement Book</div>
          <div class="product-desc">Grow your EQ mind</div>
          <div class="product-price">â‚¹250</div>
          <button class="buy-btn">Buy</button>
        </div>

        <div class="product-card">
          <div class="product-icon">ðŸŽ§</div>
          <div class="product-name">Headphones</div>
          <div class="product-desc">High quality bass</div>
          <div class="product-price">â‚¹599</div>
          <button class="buy-btn">Buy</button>
        </div>

        <div class="product-card">
          <div class="product-icon">ðŸ‘•</div>
          <div class="product-name">T-Shirt</div>
          <div class="product-desc">Comfortable and stylish</div>
          <div class="product-price">â‚¹299</div>
          <button class="buy-btn">Buy</button>
        </div>

        <div class="product-card">
          <div class="product-icon">ðŸ’¡</div>
          <div class="product-name">Desk Lamp</div>
          <div class="product-desc">Study with soft focus lighting</div>
          <div class="product-price">â‚¹450</div>
          <button class="buy-btn">Buy</button>
        </div>

        <div class="product-card">
          <div class="product-icon">ðŸŽ’</div>
          <div class="product-name">Mini Backpack</div>
          <div class="product-desc">Lightweight and durable</div>
          <div class="product-price">â‚¹399</div>
          <button class="buy-btn">Buy</button>
        </div>
      </div>
    </section>
  </main>

  <script>
    // Header & dropdown behavior script
    (function(){
      const menuBtn = document.getElementById('menuToggle');
      const mobileNav = document.getElementById('mobileNav');
      const desktopNav = document.getElementById('desktopNav');

      const activityLinkMobile = document.getElementById('activityLinkMobile');
      const activityMenuMobile = document.getElementById('activityMenuMobile');
      const activityParentMobile = document.getElementById('activityParentMobile');
      const gamesHasSubMobile = document.getElementById('gamesHasSubMobile');
      const gamesToggleMobile = document.getElementById('gamesToggleMobile');

      function isMobile() {
        return window.matchMedia('(max-width:1024px)').matches;
      }

      // Toggle mobile off-canvas nav
      menuBtn.addEventListener('click', (e)=>{
        e.stopPropagation();
        const open = mobileNav.classList.toggle('open');
        menuBtn.classList.toggle('open', open);
        mobileNav.setAttribute('aria-hidden', open ? 'false' : 'true');
        menuBtn.setAttribute('aria-expanded', open ? 'true' : 'false');
      });

      // Mobile: toggle Activity submenu
      activityLinkMobile && activityLinkMobile.addEventListener('click', (e)=>{
        e.preventDefault();
        e.stopPropagation();
        const open = activityParentMobile.classList.toggle('open');
        activityLinkMobile.setAttribute('aria-expanded', open ? 'true' : 'false');
        activityMenuMobile.setAttribute('aria-hidden', open ? 'false' : 'true');

        // if closing activity, also close games
        if (!open && gamesHasSubMobile && gamesHasSubMobile.classList.contains('open')) {
          gamesHasSubMobile.classList.remove('open');
          gamesToggleMobile && gamesToggleMobile.setAttribute('aria-expanded','false');
        }
      });

      // Mobile: toggle Games nested submenu inline
      gamesToggleMobile && gamesToggleMobile.addEventListener('click', (e)=>{
        e.preventDefault();
        e.stopPropagation();
        const open = gamesHasSubMobile.classList.toggle('open');
        gamesToggleMobile.setAttribute('aria-expanded', open ? 'true' : 'false');

        // ensure activity opened when games toggled
        if (!activityParentMobile.classList.contains('open')) {
          activityParentMobile.classList.add('open');
          activityLinkMobile.setAttribute('aria-expanded','true');
          activityMenuMobile.setAttribute('aria-hidden','false');
        }
      });

      // Close mobile menu and any open dropdowns when clicking outside
      document.addEventListener('click', (e)=>{
        const t = e.target;
        // close offcanvas if open and click outside it and toggle
        if (mobileNav.classList.contains('open') && !mobileNav.contains(t) && !menuBtn.contains(t)) {
          mobileNav.classList.remove('open');
          menuBtn.classList.remove('open');
          menuBtn.setAttribute('aria-expanded','false');
          mobileNav.setAttribute('aria-hidden','true');
        }

        // collapse mobile dropdowns if clicked outside them
        if (activityParentMobile && activityParentMobile.classList.contains('open') && !activityParentMobile.contains(t)) {
          activityParentMobile.classList.remove('open');
          activityLinkMobile && activityLinkMobile.setAttribute('aria-expanded','false');
          activityMenuMobile && activityMenuMobile.setAttribute('aria-hidden','true');
        }
        if (gamesHasSubMobile && gamesHasSubMobile.classList.contains('open') && !gamesHasSubMobile.contains(t)) {
          gamesHasSubMobile.classList.remove('open');
          gamesToggleMobile && gamesToggleMobile.setAttribute('aria-expanded','false');
        }
      });

      // When resizing to desktop, ensure mobile states are cleared
      window.addEventListener('resize', ()=>{
        if (!isMobile()) {
          if (mobileNav.classList.contains('open')) {
            mobileNav.classList.remove('open');
            menuBtn.classList.remove('open');
            menuBtn.setAttribute('aria-expanded','false');
            mobileNav.setAttribute('aria-hidden','true');
          }
          if (activityParentMobile && activityParentMobile.classList.contains('open')) {
            activityParentMobile.classList.remove('open');
            activityLinkMobile && activityLinkMobile.setAttribute('aria-expanded','false');
            activityMenuMobile && activityMenuMobile.setAttribute('aria-hidden','true');
          }
          if (gamesHasSubMobile && gamesHasSubMobile.classList.contains('open')) {
            gamesHasSubMobile.classList.remove('open');
            gamesToggleMobile && gamesToggleMobile.setAttribute('aria-expanded','false');
          }
        }
      });

      // Close nav when clicking a real nav link (mobile)
      mobileNav.addEventListener('click', (e)=>{
        const a = e.target.closest('a');
        if (!a) return;
        const href = a.getAttribute('href');
        if (!href || href === '#') { e.preventDefault(); return; } // placeholder
        // close mobile nav after click (simulate nav)
        if (mobileNav.classList.contains('open')) {
          mobileNav.classList.remove('open');
          menuBtn.classList.remove('open');
          menuBtn.setAttribute('aria-expanded','false');
          mobileNav.setAttribute('aria-hidden','true');
        }
      });

      // (Optional) Improve accessibility: close menus on Escape
      document.addEventListener('keydown', (e)=>{
        if (e.key === 'Escape') {
          if (mobileNav.classList.contains('open')) {
            mobileNav.classList.remove('open');
            menuBtn.classList.remove('open');
            menuBtn.setAttribute('aria-expanded','false');
            mobileNav.setAttribute('aria-hidden','true');
          }
          if (activityParentMobile && activityParentMobile.classList.contains('open')) {
            activityParentMobile.classList.remove('open');
            activityLinkMobile && activityLinkMobile.setAttribute('aria-expanded','false');
            activityMenuMobile && activityMenuMobile.setAttribute('aria-hidden','true');
          }
          if (gamesHasSubMobile && gamesHasSubMobile.classList.contains('open')) {
            gamesHasSubMobile.classList.remove('open');
            gamesToggleMobile && gamesToggleMobile.setAttribute('aria-expanded','false');
          }
        }
      });

    })();
  </script>
</body>
</html>
